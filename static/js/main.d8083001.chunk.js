(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,a){e.exports=a(37)},24:function(e,t,a){},26:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(5),o=a.n(r),i=(a(24),a(2)),c=a(4),d=a(11),s=a(9),m=a(10),u=a(3),h=(a(26),a(7)),b=a(8),g=(a(15),a(1)),p=a(12);a(33);p.apps.length||p.initializeApp({apiKey:"AIzaSyB8A0AUkFGdojOsckgi4URP0pGDAL64zOU",authDomain:"medical-ref-app.firebaseapp.com",databaseURL:"https://medical-ref-app.firebaseio.com",projectId:"medical-ref-app",storageBucket:"medical-ref-app.appspot.com",messagingSenderId:"1031848480203"});var f,y,v=p.database().ref(),F=function e(){Object(i.a)(this,e),this.name="",this.field1={name:"",value:""},this.field2={name:"",value:""},this.field3={name:"",value:""},this.field4={name:"",value:""}},E=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"convert",value:function(e){var t=new F;return e&&(t.name=e.name,t.field1={name:"Field1",value:e.Field1},t.field2={name:"Field2",value:e.Field2},t.field3={name:"Field3",value:e.Field3},t.field4={name:"Field4",value:e.Field4}),t}}]),e}(),N=new(f=function(){function e(){var t=this;Object(i.a)(this,e),Object(h.a)(this,"_categories",y,this),v.child("Master/category").on("value",function(e){e&&(t._categories=[],e.val().map(function(e){t._categories.push(E.convert(e))}))})}return Object(c.a)(e,[{key:"Categories",get:function(){return this._categories}}]),e}(),y=Object(b.a)(f.prototype,"_categories",[g.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f);window.cs=N;var C,O,j,_=N,R=function e(){Object(i.a)(this,e),this.category="",this.Field1="",this.Field2="",this.Field3="",this.Field4="",this.key=""},w=function e(t){Object(i.a)(this,e),this.category="",this.Field1="",this.Field2="",this.Field3="",this.Field4="",this.category=t.category,this.Field1=t.Field1,this.Field2=t.Field2,this.Field3=t.Field3,this.Field4=t.Field4},k=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"convert",value:function(e,t){var a=new R;return e&&(a.category=e.category,a.Field1=e.Field1,a.Field2=e.Field2,a.Field3=e.Field3,a.Field4=e.Field4,a.key=t),a}}]),e}(),x=new(C=function(){function e(){var t=this;Object(i.a)(this,e),Object(h.a)(this,"_records",O,this),Object(h.a)(this,"_totalRecordsByCategory",j,this),this._totalRecords=[],this._recordFilter="",this._category="",this.SaveOrUpdateRecord=function(){t.NewRecord&&(console.log(t.NewRecord),""!=t.NewRecord.key.trim()?v.child("Records/"+t.NewRecord.key).set(new w(t.NewRecord)):v.child("Records").push(new w(t.NewRecord)))},this._NewRecord=new R,this.getWholeRecords()}return Object(c.a)(e,[{key:"Records",get:function(){return this._records}},{key:"NewRecord",get:function(){return this._NewRecord},set:function(e){this._NewRecord=e}}]),Object(c.a)(e,[{key:"setFilteredRecords",value:function(e){e&&""!=e.trim()?""==this.Category.trim()?this._records=this._totalRecords.filter(function(t){return t.Field1.includes(e)||t.Field2.includes(e)||t.Field3.includes(e)||t.Field4.includes(e)}):this._records=this._totalRecordsByCategory.filter(function(t){return t.Field1.includes(e)||t.Field2.includes(e)||t.Field3.includes(e)||t.Field4.includes(e)}):this._records=this._totalRecordsByCategory.slice()}},{key:"getWholeRecords",value:function(){var e=this;v.child("Records").orderByChild("category").on("value",function(t){t&&(e._totalRecords=[],t.val()&&Object.keys(t.val()).map(function(a){console.log(t.val()[a],a),e._totalRecords.push(k.convert(t.val()[a],a))}),e.setFilteredRecords(e._recordFilter))})}},{key:"Category",set:function(e){var t=this;this._category=e,v.child("Records").orderByChild("category").equalTo(e).on("value",function(e){e&&(t._totalRecordsByCategory=[],e.val()&&Object.keys(e.val()).map(function(a){console.log(e.val()[a],a),t._totalRecordsByCategory.push(k.convert(e.val()[a],a))}),t.setFilteredRecords(t._recordFilter))})},get:function(){return this._category}},{key:"RecordFilter",set:function(e){this._recordFilter=e,this.setFilteredRecords(e)}}]),e}(),O=Object(b.a)(C.prototype,"_records",[g.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=Object(b.a)(C.prototype,"_totalRecordsByCategory",[g.j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C);window.rs=x;var S,A=x,B=a(18),U=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).handleEdit=a.handleEdit.bind(Object(u.a)(Object(u.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleEdit",value:function(){this.props.onEdit(this.props.record)}},{key:"render",value:function(){return n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header"},n.a.createElement("span",null,this.props.record.Field1)),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-text"},this.props.record.Field2),n.a.createElement("p",{className:"card-text"},this.props.record.Field3),n.a.createElement("p",{className:"card-text"},this.props.record.Field4),n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-outline-secondary btn-sm float-left",onClick:this.handleEdit},"Edit"),n.a.createElement("footer",{className:"blockquote-footer text-right"},this.props.record.category))))}}]),t}(n.a.Component),M=Object(B.a)(S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(s.a)(t).call(this,e))).resetRecord=function(){a._record=new R,a._record.key="",a._record.category="",a._record.Field1="",a._record.Field2="",a._record.Field3="",a._record.Field4=""},a.handleCategoryChange=a.handleCategoryChange.bind(Object(u.a)(Object(u.a)(a))),a.handleFilterChange=a.handleFilterChange.bind(Object(u.a)(Object(u.a)(a))),a.handleChange=a.handleChange.bind(Object(u.a)(Object(u.a)(a))),a.handleEdit=a.handleEdit.bind(Object(u.a)(Object(u.a)(a))),a.handleAddSubmit=a.handleAddSubmit.bind(Object(u.a)(Object(u.a)(a))),a.resetRecord(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-light bg-light navbar-expand-md"},n.a.createElement("span",{className:"navbar-brand mb-0 h1"},"Ray's App"),n.a.createElement("input",{className:"form-control ml-auto w-50",type:"search",placeholder:"Search","aria-label":"Search",onChange:this.handleFilterChange}),n.a.createElement("button",{className:"navbar-toggler ml-2",type:"button","data-toggle":"collapse","data-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarToggleExternalContent"},n.a.createElement("select",{id:"selCategory",className:"form-control ml-2",onChange:this.handleCategoryChange},n.a.createElement("option",null,"Select"),_.Categories.map(function(e){return n.a.createElement("option",{key:e.name,value:e.name},e.name)})),n.a.createElement("button",{type:"button",className:"form-control btn btn-outline-primary btn-block ml-2","data-toggle":"modal","data-target":"#addModal"},"Add"))),n.a.createElement("main",{role:"main",className:"container p-2"},n.a.createElement("div",{className:"card-columns"},A.Records.map(function(t,a){return n.a.createElement(U,{key:t.key,record:t,onEdit:e.handleEdit})})),n.a.createElement("div",{className:"modal fade",id:"addModal"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h4",{className:"modal-title"},"Add"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),n.a.createElement("form",{onSubmit:this.handleAddSubmit},n.a.createElement("div",{className:"modal-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"txtCategory"},"Category"),n.a.createElement("input",{type:"text",className:"form-control",readOnly:!0,id:"txtCategory",name:"Category",defaultValue:A.Category})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"txtField1"},"Field1"),n.a.createElement("input",{type:"text",className:"form-control",id:"txtField1",name:"Field1",defaultValue:this._record.Field1,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"txtField2"},"Field2"),n.a.createElement("input",{type:"text",className:"form-control",id:"txtField2",name:"Field2",defaultValue:this._record.Field2,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"txtField3"},"Field3"),n.a.createElement("input",{type:"text",className:"form-control",id:"txtField3",name:"Field3",defaultValue:this._record.Field3,onChange:this.handleChange})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"txtField4"},"Field4"),n.a.createElement("input",{type:"text",className:"form-control",id:"txtField4",name:"Field4",defaultValue:this._record.Field4,onChange:this.handleChange}))),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"submit",className:"btn btn-primary btn-outline-success"},"Save"),n.a.createElement("button",{type:"button",className:"btn btn-outline-danger","data-dismiss":"modal"},"Close")))))),n.a.createElement("div",{className:"modal fade",id:"editModal"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Update"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},"//TODO:..."),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal"},"Close"),n.a.createElement("button",{type:"button",className:"btn btn-primary"},"Update")))))))}},{key:"handleFilterChange",value:function(e){e&&e.target&&(A.RecordFilter=e.target.value)}},{key:"handleEdit",value:function(e){console.log(e),this._recordToEdit=e,$("#editModal").modal("show")}},{key:"handleChange",value:function(e){var t=e.target,a=t.value,l=t.name;this._record[l]=a}},{key:"handleCategoryChange",value:function(e){e&&e.target&&(A.Category=e.target.value)}},{key:"handleAddSubmit",value:function(e){this._record.key="",this._record.category=A.Category,A.NewRecord=this._record,A.SaveOrUpdateRecord(),$("#addModal").modal("toggle"),this.resetRecord(),e.preventDefault()}}]),t}(l.Component))||S;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,2,1]]]);
//# sourceMappingURL=main.d8083001.chunk.js.map